<!DOCTYPE html>
<html lang="fr" class="page">
<head>
  <meta charset="UTF-8">
  <title>RÃ©daction â€“ ContextaLingua</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<header class="site-header">
  <div class="container header-inner">
    <a href="index.html" class="header-logo">
      <span class="contexta">Contexta</span>
      <span class="lingua">Lingua</span>
    </a>

    <nav class="main-nav">
      <a href="produit.html" class="nav-link nav-public-only">Produit</a>
      <a href="tarifs.html"  class="nav-link nav-public-only">Tarifs</a>
      <a href="faq.html"     class="nav-link nav-public-only">FAQ</a>

      <a href="index.html"       class="nav-link nav-auth-only">Accueil</a>
      <a href="dashboard.html"   class="nav-link nav-auth-only">Tableau de bord</a>
      <a href="generate.html"    class="nav-link nav-auth-only">RÃ©daction</a>
      <a href="interpret.html"   class="nav-link nav-auth-only">InterprÃ©tation</a>
      <a href="accompanied.html" class="nav-link nav-auth-only">Mode accompagnÃ©</a>
    </nav>

    <div class="header-actions">
      <span id="headerUserEmail" class="nav-link nav-auth-only"></span>
      <button id="btnLogout" class="btn btn-ghost nav-auth-only">DÃ©connexion</button>

      <button class="btn btn-ghost nav-public-only">Se connecter</button>
      <button class="btn btn-primary nav-public-only">Commencer gratuitement</button>
    </div>
  </div>
</header>

<main>
  <section class="hero">
    <div class="container hero-grid hero-grid-simple">
      <div class="card">
        <h2 style="margin-bottom: 8px; color: var(--text-strong);">Camille â€” Mode rÃ©daction</h2>
        <p style="color: var(--text-muted); font-size: 0.95rem; margin-bottom: 18px;">
          Donnez le contexte, lâ€™objectif et Ã©ventuellement un texte brut. Camille rÃ©dige selon le format choisi.
        </p>

        <form id="generateForm" autocomplete="off">
          <div class="form-field">
  <span>Format du message</span>
  <select id="genFormat">
    <option value="email">Email</option>
    <option value="courrier">Courrier formel</option>
    <option value="telephone">Script tÃ©lÃ©phonique</option>
  </select>
</div>

          <div class="form-field">
            <span>Langue cible</span>
            <div id="langFlags" style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;">
  <button type="button" class="btn btn-secondary" data-lang="fr">ðŸ‡«ðŸ‡·</button>
  <button type="button" class="btn btn-secondary" data-lang="en">ðŸ‡¬ðŸ‡§</button>
  <button type="button" class="btn btn-secondary" data-lang="es">ðŸ‡ªðŸ‡¸</button>
  <button type="button" class="btn btn-secondary" data-lang="de">ðŸ‡©ðŸ‡ª</button>
  <button type="button" class="btn btn-secondary" data-lang="it">ðŸ‡®ðŸ‡¹</button>
  <button type="button" class="btn btn-secondary" data-lang="pt">ðŸ‡µðŸ‡¹</button>
  <button type="button" class="btn btn-secondary" data-lang="nl">ðŸ‡³ðŸ‡±</button>
  <button type="button" class="btn btn-secondary" data-lang="zh">ðŸ‡¨ðŸ‡³</button>
</div>

<div class="form-field">
  <span>Autre langue (code)</span>
  <input type="text" id="genLanguageFree" placeholder="Ex : pl, ar, ja, ko, sv..." />
</div>

            <select id="genLanguage">
              <option value="fr">FranÃ§ais</option>
              <option value="en">Anglais</option>
              <option value="es">Espagnol</option>
            </select>
          </div>

          <div class="form-field">
            <span>Ton souhaitÃ©</span>
            <input type="text" id="genTone" placeholder="Ex : professionnel, chaleureux, ferme mais poliâ€¦" />
          </div>

          <div class="form-field">
            <span>Objectif du message</span>
            <textarea id="genObjective" rows="3"
              placeholder="Ex : relancer un client en retard, confirmer un RDV, recadrer sans conflitâ€¦"></textarea>
          </div>

          <div class="form-field">
            <span>Ã€ qui Ã©crivez-vous ?</span>
            <textarea id="genRecipient" rows="2"
              placeholder="Ex : dirigeant de PME, client fidÃ¨le mais en retard, fournisseurâ€¦"></textarea>
          </div>

          <div class="form-field">
            <span>Texte de dÃ©part (optionnel)</span>
            <textarea id="genDraft" rows="6"
              placeholder="Collez ici un texte Ã  amÃ©liorer ou laissez vide pour une crÃ©ation complÃ¨te."></textarea>
          </div>

          <div class="form-field">
            <span>Contexte supplÃ©mentaire (optionnel)</span>
            <textarea id="genContext" rows="3"
              placeholder="Historique, contraintes, Ã©lÃ©ments Ã  Ã©viter, dÃ©tails de la situationâ€¦"></textarea>
          </div>

          <p id="genError" style="color: var(--danger); font-size: 0.9rem; min-height: 1.2em; margin-bottom: 8px;"></p>

          <!-- IMPORTANT : type submit, et c'est JS qui bloque le reload -->
          <button id="genSubmit" type="submit" class="btn btn-primary">Lancer la rÃ©daction</button>
        </form>

        <h3 style="margin-top: 22px; margin-bottom: 6px; color: var(--text-strong);">Proposition de Camille</h3>
        <pre id="genOutput"
          style="white-space: pre-wrap; font-size: 0.95rem; color: var(--text-main); background:#020617; border-radius: 12px; padding: 12px; border: 1px solid var(--border-subtle); min-height: 80px;"></pre>
      </div>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <span>Â© ContextaLingua</span>
    <nav class="footer-nav">
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</footer>

<!-- âœ… UN SEUL BLOC scripts, mÃªme ordre que interpret -->
<script src="js/api.js"></script>
<script src="js/auth.js"></script>
<script src="js/generate.js"></script>
</body>
</html>
