<!DOCTYPE html>
<html lang="fr" class="page">
  <head>
    <meta charset="UTF-8" />
   <meta name="robots" content="noindex, nofollow">
    <title>Interpr√©tation ‚Äì ContextaLingua</title>
    <!-- Favicon & App icons -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    <link rel="manifest" href="/icons/site.webmanifest">

    <meta name="theme-color" content="#0b1020">
    <link rel="stylesheet" href="assets/css/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>

  <body class="page">
    <!-- HEADER -->
    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="header-logo">
          <span class="contexta">Contexta</span>
          <span class="lingua">Lingua</span>
        </a>

        <nav class="main-nav">
          <a href="produit.html" class="nav-link nav-public-only">Produit</a>
          <a href="tarifs.html" class="nav-link nav-public-only">Tarifs</a>
          <a href="faq.html" class="nav-link nav-public-only">FAQ</a>

          <a href="index.html" class="nav-link nav-auth-only">Accueil</a>
          <a href="dashboard.html" class="nav-link nav-auth-only">Tableau de bord</a>
          <a href="generate.html" class="nav-link nav-auth-only">R√©daction</a>
          <a href="interpret.html" class="nav-link nav-auth-only active">Interpr√©tation</a>
  
        </nav>

        <div class="header-actions">
          <span id="headerUserEmail" class="nav-link nav-auth-only"></span>
          <button id="btnLogout" class="btn btn-ghost nav-auth-only">D√©connexion</button>

          <a href="login.html" class="btn btn-ghost nav-public-only js-go-login">Se connecter</a>
          <a href="register.html" class="btn btn-primary nav-public-only js-go-register">Tester gratuitement</a>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main>
      <section class="hero">
        <div class="container hero-inner hero-grid hero-grid-simple">
          <div class="grid grid-2" style="gap:12px; align-items:start; width:100%;">
            <!-- COLONNE GAUCHE (FORM) -->
            <div class="card">
              <h2 style="margin-bottom:6px;">Camille ‚Äî Interpr√©tation</h2>
              <p style="color:var(--text-muted); margin-bottom:14px;">
                Collez un message re√ßu. Camille d√©tecte automatiquement la langue d‚Äôorigine et traduit en <strong>fran√ßais</strong> (par d√©faut).
              </p>

              <form id="interpretForm" autocomplete="off">
                <div class="form-field">
                  <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
                    <span>Langue de traduction</span>

                    <label style="display:flex; align-items:center; gap:8px; cursor:pointer; color:var(--text-muted); font-size:.9rem;">
                      <input id="intToggleTargetLang" type="checkbox" />
                      Choisir une autre langue
                    </label>
                  </div>

                  <div id="intTargetLangWrap" style="display:none; position:relative; margin-top:10px;">
                    <input
                      id="intTargetLanguageLabel"
                      type="text"
                      placeholder="Ex : italien, allemand, arabe‚Ä¶"
                      autocomplete="off"
                    />
                    <input id="intTargetLanguageCode" type="hidden" value="fr" />

                    <div
                      id="intLangSuggest"
                      style="display:none; position:absolute; z-index:20; left:0; right:0; top:100%;
                        background:rgba(2,6,23,.98); border:1px solid var(--border-subtle);
                        border-radius:12px; padding:6px; margin-top:6px; max-height:240px; overflow:auto;">
                    </div>

                    <small class="lang-picker-meta">Tape un d√©but de langue puis s√©lectionne.</small>
                  </div>

                  <p style="margin-top:8px; color:var(--text-muted); font-size:.85rem;">
                    S√©lection actuelle : <strong id="intLanguageSelectedLabel">üá´üá∑ Fran√ßais</strong>
                    <span style="opacity:.7;"> ‚Äî </span>
                    <span style="opacity:.9;">Langue d√©tect√©e :</span>
                    <strong id="intDetectedLangLabel">‚Äî</strong>
                  </p>
                </div>

                <div class="form-field">
                  <span>Niveau de r√©ponse</span>
                  <select id="intDepth">
                    <option value="quick" selected>Rapide (traduction + micro-analyse)</option>
                    <option value="detailed">Approfondi (ton, intention, risques, pistes de r√©ponse)</option>
                  </select>
                </div>

                <div class="form-field">
                  <span>Texte √† interpr√©ter</span>
                  <textarea
                    id="intText"
                    rows="8"
                    placeholder="Collez le mail, le message ou l‚Äôextrait de document √† analyser."
                  ></textarea>
                </div>

                <div class="form-field">
                  <span>Contexte (optionnel)</span>
                  <textarea
                    id="intContext"
                    rows="3"
                    placeholder="Relation, historique, enjeux, objectif, ce que vous voulez √©viter..."
                  ></textarea>
                </div>

                <p id="intError" style="color:var(--danger); font-size:.9rem; min-height:1.2em; margin-bottom:8px;"></p>

                <button id="intSubmit" type="submit" class="btn btn-primary btn-full">Traduire & interpr√©ter</button>

                <p id="intMeta" style="margin-top:10px; color:var(--text-muted); font-size:.85rem; min-height:1.2em;"></p>
              </form>
            </div>

            <!-- COLONNE DROITE (CONSEILS) -->
            <aside class="card info-card" style="padding:12px;">
              <h3 style="margin-top:0;">Pour une lecture premium</h3>
              <ul class="list-check" style="margin-bottom:0;">
                <li>Colle le message <strong>complet</strong> (signature incluse si utile).</li>
                <li>Ajoute 1 ligne de <strong>contexte</strong> si c‚Äôest sensible.</li>
                <li>Choisis ‚ÄúApprofondi‚Äù si tu veux des <strong>pistes de r√©ponse</strong>.</li>
              </ul>
            </aside>
          </div>

          <!-- R√âSULTATS -->
          <div class="grid grid-2" style="gap:12px; margin-top:12px; width:100%;">
            <div class="card" style="padding:12px;">
              <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                <h3 style="margin:0;">Traduction</h3>
                <button type="button" class="btn btn-ghost" id="btnCopyTranslation">Copier</button>
              </div>
              <pre
                id="intTranslation"
                style="white-space:pre-wrap; margin-top:10px; background:#020617;
                border-radius:12px; padding:12px; border:1px solid var(--border-subtle); min-height:160px;"
              ></pre>
            </div>

            <div class="card" style="padding:12px;">
              <h3 style="margin:0;">Lecture rapide</h3>

              <div style="margin-top:10px; display:flex; flex-direction:column; gap:10px;">
                <div class="card" style="padding:10px;">
                  <strong>Langue d‚Äôorigine :</strong> <span id="intQuickLang">(non d√©tect√©e)</span>
                </div>
                <div class="card" style="padding:10px;">
                  <strong>Ton :</strong> <span id="intQuickTone">(non d√©tect√©)</span>
                </div>
                <div class="card" style="padding:10px;">
                  <strong>Intention :</strong> <span id="intQuickIntent">(non d√©tect√©e)</span>
                </div>
                <div class="card" style="padding:10px;">
                  <strong>Point d‚Äôattention :</strong> <span id="intQuickRisk">(non d√©tect√©)</span>
                </div>
              </div>
            </div>
          </div>

          <!-- R√âPONDRE (OPTIONNEL) -->
          <details id="replyPanel" style="margin-top:12px;">
            <summary style="cursor:pointer; list-style:none;">
              <div class="card" style="padding:12px; display:flex; justify-content:space-between; align-items:center;">
                <strong>R√©pondre (optionnel)</strong>
                <span style="color:var(--text-muted);">‚Äî 1 cr√©dit</span>
              </div>
            </summary>

            <div class="card" style="padding:12px; margin-top:10px;">
              <p style="margin-top:0; color:var(--text-muted); font-size:.95rem;">
                D√©crivez ce que vous souhaitez r√©pondre. Camille g√©n√®re une r√©ponse dans la <strong>langue d‚Äôorigine</strong>,
                et une <strong>version de contr√¥le</strong> dans la langue de traduction choisie.
              </p>

              <div class="form-field">
                <span>Votre intention de r√©ponse</span>
                <textarea
                  id="intReplyGoal"
                  rows="3"
                  placeholder="Ex : remercier, demander une pr√©cision, accepter un rendez-vous..."
                ></textarea>
              </div>

              <p id="intReplyError" style="color:var(--danger); font-size:.9rem; min-height:1.2em; margin-bottom:8px;"></p>

              <button id="intReplyBtn" type="button" class="btn btn-secondary">G√©n√©rer une r√©ponse</button>

              <div class="grid grid-2" style="gap:12px; margin-top:12px;">
                <div class="card" style="padding:12px;">
                  <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                    <strong>R√©ponse (langue d‚Äôorigine)</strong>
                    <button type="button" class="btn btn-ghost" id="btnCopyReply">Copier</button>
                  </div>
                  <pre
                    id="intReply"
                    style="white-space:pre-wrap; margin-top:10px; background:#020617;
                    border-radius:12px; padding:12px; border:1px solid var(--border-subtle); min-height:160px;"
                  ></pre>
                </div>

                <div class="card" style="padding:12px;">
                  <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                    <strong>Contr√¥le</strong>
                    <button type="button" class="btn btn-ghost" id="btnCopyReplyFR">Copier</button>
                  </div>
                  <pre
                    id="intReplyFR"
                    style="white-space:pre-wrap; margin-top:10px; background:#020617;
                    border-radius:12px; padding:12px; border:1px solid var(--border-subtle); min-height:160px;"
                  ></pre>
                </div>
              </div>
            </div>
          </details>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
   <footer class="site-footer">
  <div class="container footer-inner">
    <span>¬© ContextaLingua</span>
    <nav class="footer-nav">
      <a href="contact.html">Contact</a>
      <a href="cgv.html">CGV</a>
      <a href="confidentialite.html">Confidentialit√©</a>
      <a href="mentions-legales.html">Mentions l√©gales</a>
    </nav>
  </div>
</footer>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/languages.js"></script>
    <script src="js/interpret.js"></script>
  </body>
</html>
