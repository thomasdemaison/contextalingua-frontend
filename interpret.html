<!DOCTYPE html>
<html lang="fr" class="page">
  <head>
    <meta charset="UTF-8" />
    <title>Interpr√©tation ‚Äì ContextaLingua</title>
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>

  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="header-logo">
          <span class="contexta">Contexta</span>
          <span class="lingua">Lingua</span>
        </a>

        <nav class="main-nav">
          <a href="produit.html" class="nav-link nav-public-only">Produit</a>
          <a href="tarifs.html" class="nav-link nav-public-only">Tarifs</a>
          <a href="faq.html" class="nav-link nav-public-only">FAQ</a>

          <a href="index.html" class="nav-link nav-auth-only">Accueil</a>
          <a href="dashboard.html" class="nav-link nav-auth-only">Tableau de bord</a>
          <a href="generate.html" class="nav-link nav-auth-only">R√©daction</a>
          <a href="interpret.html" class="nav-link nav-auth-only active">Interpr√©tation</a>
          <a href="accompanied.html" class="nav-link nav-auth-only">Mode accompagn√©</a>
        </nav>

        <div class="header-actions">
          <span id="headerUserEmail" class="nav-link nav-auth-only"></span>
          <button id="btnLogout" class="btn btn-ghost nav-auth-only">D√©connexion</button>

          <button class="btn btn-ghost nav-public-only">Se connecter</button>
          <button class="btn btn-primary nav-public-only">Commencer gratuitement</button>
        </div>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container hero-grid hero-grid-simple">
          <div class="card">
            <h2 style="margin-bottom: 8px; color: var(--text-strong);">
              Camille ‚Äî Interpr√©tation (traduction contextuelle)
            </h2>
            <p style="color: var(--text-muted); font-size: 0.95rem; margin-bottom: 18px;">
              Collez un message re√ßu. Camille d√©tecte automatiquement la langue d‚Äôorigine et vous r√©pond dans la langue choisie.
            </p>

            <!-- ‚úÖ Langue cible (UX) -->
            <div class="form-field">
              <span>Langue de la r√©ponse</span>

              <input
                id="intLanguageSearch"
                type="text"
                placeholder="Tapez une langue (ex : Fran√ßais, Chinois, Arabe‚Ä¶) ou cliquez sur un drapeau"
                style="margin-bottom:10px;"
              />

              <input type="hidden" id="intLanguageCode" value="fr" />
              <input type="hidden" id="intLanguageName" value="Fran√ßais" />

              <div
                id="intLanguageGrid"
                style="
                  display:grid;
                  grid-template-columns: repeat(4, minmax(0, 1fr));
                  gap:10px;
                "
              ></div>

              <p style="margin-top:8px;color:var(--text-muted);font-size:0.85rem;">
                S√©lection actuelle : <strong id="intLanguageSelectedLabel">üá´üá∑ Fran√ßais</strong>
              </p>
            </div>

            <!-- ‚úÖ Profondeur : rapide par d√©faut -->
            <div class="form-field">
              <span>Niveau de r√©ponse</span>
              <select id="intDepth">
                <option value="quick" selected>Rapide (traduction contextuelle + micro-analyse)</option>
                <option value="detailed">Approfondi (ton, intention, risques, pistes de r√©ponse)</option>
              </select>
            </div>

            <div class="form-field">
              <span>Texte √† interpr√©ter</span>
              <textarea
                id="intText"
                rows="8"
                placeholder="Collez le mail, le message ou l‚Äôextrait de document √† analyser."
              ></textarea>
            </div>

            <div class="form-field">
              <span>Contexte (optionnel)</span>
              <textarea
                id="intContext"
                rows="3"
                placeholder="Relation avec la personne, situation, historique, enjeux‚Ä¶"
              ></textarea>
            </div>

            <p
              id="intError"
              style="color: var(--danger); font-size: 0.9rem; min-height: 1.2em; margin-bottom: 8px;"
            ></p>

            <button id="intSubmit" class="btn btn-primary">Interpr√©ter le message</button>

            <h3 style="margin-top: 22px; margin-bottom: 6px; color: var(--text-strong);">
              R√©ponse de Camille
            </h3>

            <pre
              id="intOutput"
              style="
                white-space: pre-wrap;
                font-size: 0.95rem;
                color: var(--text-main);
                background:#020617;
                border-radius: 12px;
                padding: 12px;
                border: 1px solid var(--border-subtle);
                min-height: 80px;
              "
            ></pre>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <span>¬© ContextaLingua</span>
        <nav class="footer-nav">
          <a href="contact.html">Contact</a>
        </nav>
      </div>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/interpret.js"></script>
  </body>
</html>
