<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Tableau de Bord</title>
</head>
<body>

  <h2>Tableau de bord</h2>

  <div>
    <p>Cr√©dits restants : <span id="creditBalance">...</span></p>
    <button onclick="window.location.href='generate.html'">‚úç R√©daction</button>
    <button onclick="window.location.href='interpret.html'">üîé Interpr√©tation</button>
  </div>

  <script type="module">
    import { apiRequest } from "./js/api.js";

    async function loadBalance() {
      try {
        const data = await apiRequest("/credits/balance", "GET", null, true);
        document.getElementById("creditBalance").textContent = data.creditBalance;
      } catch (e) {
        alert("Session expir√©e ‚Äî reconnectez-vous.");
        localStorage.removeItem("token");
        window.location.href = "login.html";
      }
    }

    loadBalance();
  </script>
</body>
</html>
